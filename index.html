<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>æ¼¢å­—ã‚¯ã‚¤ã‚º</title>
    <style>
        body {
            font-family: "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
            background: #f4f8fb;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        header {
            background-color: #4a90e2;
            color: white;
            padding: 1em;
            font-size: 1.5em;
        }
        main {
            padding: 2em;
        }
        button {
            background-color: #4a90e2;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.7em 1.5em;
            margin: 0.5em;
            font-size: 1em;
            cursor: pointer;
        }
        button:hover {
            background-color: #357ac9;
        }
        .hidden {
            display: none;
        }
        .question-box {
            background-color: white;
            border-radius: 10px;
            padding: 1.5em;
            margin: 1em auto;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .stats-grade {
            background: white;
            margin: 1em auto;
            padding: 1em;
            width: 80%;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: left;
        }
        .learned-kanji {
            margin-top: 0.5em;
            color: #333;
            font-size: 1em;
            line-height: 1.6em;
        }
    </style>
</head>
<body>
    <header>ğŸ“˜ å°å­¦ç”Ÿã®æ¼¢å­—ã‚¯ã‚¤ã‚º</header>

    <main>
        <div id="menu">
            <h2>å­¦å¹´ã‚’é¸ã‚“ã§ã­</h2>
            <button onclick="startQuiz('1å¹´ç”Ÿ')">1å¹´ç”Ÿ</button>
            <button onclick="startQuiz('2å¹´ç”Ÿ')">2å¹´ç”Ÿ</button>
            <button onclick="startQuiz('3å¹´ç”Ÿ')">3å¹´ç”Ÿ</button>
            <button onclick="startQuiz('4å¹´ç”Ÿ')">4å¹´ç”Ÿ</button>
            <button onclick="startQuiz('5å¹´ç”Ÿ')">5å¹´ç”Ÿ</button>
            <button onclick="startQuiz('6å¹´ç”Ÿ')">6å¹´ç”Ÿ</button>
            <br><br>
            <button onclick="showStats()">ğŸ“Š å­¦ç¿’è¨˜éŒ²ã‚’è¦‹ã‚‹</button>
        </div>

        <div id="quiz" class="hidden">
            <div class="question-box">
                <p id="question"></p>
                <input id="answer" type="text" placeholder="æ¼¢å­—ã‚’å…¥åŠ›">
                <br><br>
                <button onclick="checkAnswer()">ç­”ãˆã‚‹</button>
            </div>
        </div>

        <div id="result" class="hidden">
            <h2 id="resultText"></h2>
            <button onclick="nextQuestion()">æ¬¡ã®å•é¡Œã¸</button>
            <button onclick="returnToMenu()">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸</button>
        </div>

        <div id="stats" class="hidden"></div>
    </main>

    <script>
        const kanjiData = {
            "1å¹´ç”Ÿ": [
                {"sentence": "å¤§ããªã‚¤ãƒŒã€‚", "kanji": "å¤§", "reading": "ãŠãŠ"},
                {"sentence": "å°ã•ã„å£°ã€‚", "kanji": "å°", "reading": "ã¡ã„"},
                {"sentence": "ã‚ã‚ã‚’ä¹ã¤ãŸã¹ãŸã€‚", "kanji": "ä¹", "reading": "ã“ã“ã®"},
                {"sentence": "ç”·ã®å­ã®ã‚ã‚‰ã„ã”ãˆã€‚", "kanji": "ç”·", "reading": "ãŠã¨ã“"},
                {"sentence": "ã•ã‚“ã™ã†ã®å­¦ã—ã‚…ã†ã€‚", "kanji": "å­¦", "reading": "ãŒã"},
                {"sentence": "æ—¥ã®å‡ºã‚’ã¿ã‚‹ã€‚", "kanji": "æ—¥", "reading": "ã²"},
                {"sentence": "ã˜ã¦ã‚“è»Šã‚’ã“ãã€‚", "kanji": "è»Š", "reading": "ã—ã‚ƒ"},
                {"sentence": "ãªã¤ä¼‘ã¿ã€‚", "kanji": "ä¼‘", "reading": "ã‚„ã™"},
                {"sentence": "å¤•ã”ã¯ã‚“ã‚’ãŸã¹ã‚‹ã€‚", "kanji": "å¤•", "reading": "ã‚†ã†"},
                {"sentence": "éŸ³ãŒãã®å…ˆç”Ÿã€‚", "kanji": "éŸ³", "reading": "ãŠã‚“"},
                {"sentence": "å±±ã«ã®ã¼ã‚‹ã€‚", "kanji": "å±±", "reading": "ã‚„ã¾"},
                {"sentence": "å·ã®æ°´ãŒãªãŒã‚Œã‚‹ã€‚", "kanji": "å·", "reading": "ã‹ã‚"},
                {"sentence": "æœ¨ã®ãˆã ã‚’ãã‚‹ã€‚", "kanji": "æœ¨", "reading": "ã"},
                {"sentence": "æ£®ã®ãªã‹ã‚’ã‚ã‚‹ãã€‚", "kanji": "æ£®", "reading": "ã‚‚ã‚Š"},
                {"sentence": "æ—ã§ã¨ã‚Šã‚’ã¿ãŸã€‚", "kanji": "æ—", "reading": "ã¯ã‚„ã—"},
                {"sentence": "ç”°ã®ã‚ãœã¿ã¡ã€‚", "kanji": "ç”°", "reading": "ãŸ"},
                {"sentence": "è‰ã®ãªã‹ã«è™«ã€‚", "kanji": "è™«", "reading": "ã‚€ã—"},
                {"sentence": "ç©ºã«æœˆãŒã†ã‹ã¶ã€‚", "kanji": "ç©º", "reading": "ãã‚‰"},
                {"sentence": "èŠ±ãŒã•ãã€‚", "kanji": "èŠ±", "reading": "ã¯ãª"},
                {"sentence": "çŸ³ã‚’ã²ã‚ã†ã€‚", "kanji": "çŸ³", "reading": "ã„ã—"},
                {"sentence": "é’ã„ãã‚‰ã€‚", "kanji": "é’", "reading": "ã‚ãŠ"},
                {"sentence": "èµ¤ã„ã‚Šã‚“ã”ã€‚", "kanji": "èµ¤", "reading": "ã‚ã‹"},
                {"sentence": "ç™½ã„ãã‚‚ã€‚", "kanji": "ç™½", "reading": "ã—ã‚"},
                {"sentence": "æ—©ããŠãã‚‹ã€‚", "kanji": "æ—©", "reading": "ã¯ã‚„"},
                {"sentence": "æ­£ã—ã„ã“ãŸãˆã€‚", "kanji": "æ­£", "reading": "ãŸã "},
                {"sentence": "ç”Ÿãã‚‚ã®ã‚’ã¾ã‚‚ã‚‹ã€‚", "kanji": "ç”Ÿ", "reading": "ã„"},
                {"sentence": "å¤©ã®å·ã‚’ã¿ã‚‹ã€‚", "kanji": "å¤©", "reading": "ã¦ã‚“"},
                {"sentence": "æ°—ã‚‚ã¡ãŒã„ã„ã€‚", "kanji": "æ°—", "reading": "ã"},
                {"sentence": "æ°´ã‚’ã®ã‚€ã€‚", "kanji": "æ°´", "reading": "ã¿ãš"},
                {"sentence": "ç«ã‚’ã¤ã‘ã‚‹ã€‚", "kanji": "ç«", "reading": "ã²"}
            ],
            "2å¹´ç”Ÿ": [
                {"sentence": "ã¨ã‚‚ã ã¡ã«ä¼šã†ã€‚", "kanji": "ä¼š", "reading": "ã‚"},
                {"sentence": "æµ·ã§ãŠã‚ˆãã€‚", "kanji": "æµ·", "reading": "ã†ã¿"},
                {"sentence": "æ•™ç§‘æ›¸ã‚’èª­ã‚€ã€‚", "kanji": "æ•™", "reading": "ãã‚‡ã†"},
                {"sentence": "é ­ãŒã„ãŸã„ã€‚", "kanji": "é ­", "reading": "ã‚ãŸã¾"},
                {"sentence": "ãµã‹ã„è°·ã€‚", "kanji": "è°·", "reading": "ãŸã«"},
                {"sentence": "åå‰ã‚’è¨˜ã™ã€‚", "kanji": "è¨˜", "reading": "ã—ã‚‹"},
                {"sentence": "ä¸»èªã‚’æ¢ã™ã€‚", "kanji": "èª", "reading": "ã”"},
                {"sentence": "è»ŠãŒæ­¢ã¾ã‚‹ã€‚", "kanji": "æ­¢", "reading": "ã¨"},
                {"sentence": "èˆ¹ã«ã®ã‚‹ã€‚", "kanji": "èˆ¹", "reading": "ãµã­"},
                {"sentence": "åŸã£ã±ã§ã‚ãã¶ã€‚", "kanji": "åŸ", "reading": "ã¯ã‚‰"},
                {"sentence": "ãƒ­ãƒ¼ãƒ—ã‚’å¼·ãå¼•ãã€‚", "kanji": "å¼•", "reading": "ã²"},
                {"sentence": "ç¾½ã‚’ã²ã‚ã’ãŸé³¥ã€‚", "kanji": "ç¾½", "reading": "ã¯ã­"},
                {"sentence": "ç™½ã„é›²ãŒãªãŒã‚Œã‚‹ã€‚", "kanji": "é›²", "reading": "ãã‚‚"},
                {"sentence": "åœ’ã§èŠ±ã‚’ã†ãˆã‚‹ã€‚", "kanji": "åœ’", "reading": "ãˆã‚“"},
                {"sentence": "é ãã®å±±ãŒã¿ãˆã‚‹ã€‚", "kanji": "é ", "reading": "ã¨ãŠ"},
                {"sentence": "ä½•ã‚’ã—ã¦ã„ã‚‹ã®ã€‚", "kanji": "ä½•", "reading": "ãªã«"},
                {"sentence": "ç†ç§‘ã®ã˜ã£ã‘ã‚“ã€‚", "kanji": "ç§‘", "reading": "ã‹"},
                {"sentence": "å¤ã®å·ã‚ãã³ã€‚", "kanji": "å¤", "reading": "ãªã¤"},
                {"sentence": "å®¶ã«ã‹ãˆã‚‹ã€‚", "kanji": "å®¶", "reading": "ã„ãˆ"},
                {"sentence": "æ­Œã‚’ã†ãŸã†ã€‚", "kanji": "æ­Œ", "reading": "ã†ãŸ"},
                {"sentence": "çµµã‚’ã‹ãã€‚", "kanji": "çµµ", "reading": "ãˆ"},
                {"sentence": "æµ·ã®ãªã¿ã€‚", "kanji": "æµ·", "reading": "ã†ã¿"},
                {"sentence": "ç”»ã‚’è¦‹ã¦ã¾ã­ã‚‹ã€‚", "kanji": "ç”»", "reading": "ãŒ"},
                {"sentence": "äºŒå›ã‚ã®ãƒ†ã‚¹ãƒˆã€‚", "kanji": "å›", "reading": "ã‹ã„"},
                {"sentence": "ä¼šããŒã¯ã˜ã¾ã‚‹ã€‚", "kanji": "ä¼š", "reading": "ã‹ã„"},
                {"sentence": "å¤–ã§ã‚ãã¶ã€‚", "kanji": "å¤–", "reading": "ãã¨"},
                {"sentence": "è§’ã‚’ã¾ãŒã‚‹ã€‚", "kanji": "è§’", "reading": "ã‹ã©"},
                {"sentence": "æ¥½ã—ã„ãˆã‚“ããã€‚", "kanji": "æ¥½", "reading": "ãŸã®"},
                {"sentence": "æ°´ã®ä¸­ã§æ´»ã‚„ãã€‚", "kanji": "æ´»", "reading": "ã‹ã¤"},
                {"sentence": "é–“ã‚’ã‚ã‘ã¦ãªã‚‰ã¶ã€‚", "kanji": "é–“", "reading": "ã‚ã„ã "}
            ],
            "3å¹´ç”Ÿ": [
                {"sentence": "ã‚†ã†åãªè©©ã‚’èª­ã‚€ã€‚", "kanji": "è©©", "reading": "ã—"},
                {"sentence": "é»„é‡‘ã«è¼ãé‡‘é–£å¯ºã€‚", "kanji": "é»„é‡‘", "reading": "ãŠã†ã”ã‚“"},
                {"sentence": "ãŠã‚‚ã—ã‚ã„ç‰©èªã€‚", "kanji": "ç‰©èª", "reading": "ã‚‚ã®ãŒãŸã‚Š"},
                {"sentence": "ã‹ããŒå®Ÿã‚‹ã€‚", "kanji": "å®Ÿ", "reading": "ã¿ã®"},
                {"sentence": "ã¾ã»ã†ã®é¤¨ã€‚", "kanji": "é¤¨", "reading": "ã‚„ã‹ãŸ"},
                {"sentence": "å•ã„ã«ç­”ãˆã‚‹ã€‚", "kanji": "å•", "reading": "ã¨"},
                {"sentence": "è¾²å®¶ã®ãŠã˜ã•ã‚“ã€‚", "kanji": "è¾²å®¶", "reading": "ã®ã†ã‹"},
                {"sentence": "ç›¸æ‰‹ã«ä¼ãˆã‚‹ã€‚", "kanji": "ç›¸æ‰‹", "reading": "ã‚ã„ã¦"},
                {"sentence": "å½¢ã‚’æ•´ãˆã‚‹ã€‚", "kanji": "æ•´", "reading": "ã¨ã¨ã®"},
                {"sentence": "æ–°ãŸãªç™ºè¦‹ã€‚", "kanji": "ç™ºè¦‹", "reading": "ã¯ã£ã‘ã‚“"},
                {"sentence": "æ‚ªã„ã‚†ã‚ã‚’ã¿ãŸã€‚", "kanji": "æ‚ª", "reading": "ã‚ã‚‹"},
                {"sentence": "å®‰ã„ã‚Šã‚“ã”ã‚’ã‹ã£ãŸã€‚", "kanji": "å®‰", "reading": "ã‚„ã™"},
                {"sentence": "æš—ã„ã¿ã¡ã‚’ã‚ã‚‹ãã€‚", "kanji": "æš—", "reading": "ãã‚‰"},
                {"sentence": "åŒ»ã—ã‚ƒã«ã¿ã¦ã‚‚ã‚‰ã†ã€‚", "kanji": "åŒ»", "reading": "ã„"},
                {"sentence": "å§”å“¡ã«ãˆã‚‰ã°ã‚ŒãŸã€‚", "kanji": "å§”", "reading": "ã„"},
                {"sentence": "æ„è¦‹ã‚’ã®ã¹ã‚‹ã€‚", "kanji": "æ„", "reading": "ã„"},
                {"sentence": "èŠ±ã‚’è‚²ã¦ã‚‹ã€‚", "kanji": "è‚²", "reading": "ãã "},
                {"sentence": "ä¼šç¤¾ã®å“¡ã€‚", "kanji": "å“¡", "reading": "ã„ã‚“"},
                {"sentence": "ç—…é™¢ã¸ã„ãã€‚", "kanji": "é™¢", "reading": "ã„ã‚“"},
                {"sentence": "æ°´ã‚’é£²ã‚€ã€‚", "kanji": "é£²", "reading": "ã®"},
                {"sentence": "è»Šã‚’é‹ã¶ã€‚", "kanji": "é‹", "reading": "ã¯ã“"},
                {"sentence": "å·ã§æ³³ãã€‚", "kanji": "æ³³", "reading": "ãŠã‚ˆ"},
                {"sentence": "é§…ã§ã¾ã¤ã€‚", "kanji": "é§…", "reading": "ãˆã"},
                {"sentence": "ç”ºã®ä¸­å¤®ã€‚", "kanji": "å¤®", "reading": "ãŠã†"},
                {"sentence": "æ¨ªã«ã™ã‚ã‚‹ã€‚", "kanji": "æ¨ª", "reading": "ã‚ˆã“"},
                {"sentence": "æœ¨ã®å±‹ã­ã€‚", "kanji": "å±‹", "reading": "ã‚„"},
                {"sentence": "æ¸©ã‹ã„ã‚¹ãƒ¼ãƒ—ã€‚", "kanji": "æ¸©", "reading": "ã‚ãŸãŸ"},
                {"sentence": "åŒ–å­¦ã®ã˜ã£ã‘ã‚“ã€‚", "kanji": "åŒ–", "reading": "ã‹"},
                {"sentence": "è·ç‰©ã‚’ã¯ã“ã¶ã€‚", "kanji": "è·", "reading": "ã«"},
                {"sentence": "ä¸–ç•Œã®å›½ã€‚", "kanji": "ç•Œ", "reading": "ã‹ã„"}
            ],
            "4å¹´ç”Ÿ": [
                {"sentence": "å­£ç¯€ã«é–¢ã™ã‚‹è¨€è‘‰ã€‚", "kanji": "å­£ç¯€", "reading": "ãã›ã¤"},
                {"sentence": "ç¯€ç›®ã®å¹´ã€‚", "kanji": "ç¯€", "reading": "ãµã—"},
                {"sentence": "ãŠç±³ãŒé…çµ¦ã•ã‚Œã‚‹ã€‚", "kanji": "é…çµ¦", "reading": "ã¯ã„ãã‚…ã†"},
                {"sentence": "æœ€ã‚‚å¤ã„å¯ºã€‚", "kanji": "æœ€", "reading": "ã‚‚ã£ã¨"},
                {"sentence": "æ˜¨æ—¥ã®å‡ºæ¥äº‹ã€‚", "kanji": "æ˜¨æ—¥", "reading": "ãã®ã†"},
                {"sentence": "ä¿¡å·ãŒèµ¤ã ã€‚", "kanji": "ä¿¡å·", "reading": "ã—ã‚“ã”ã†"},
                {"sentence": "å›³æ›¸é¤¨ã«ã‚ã‚‹è³‡æ–™ã€‚", "kanji": "è³‡æ–™", "reading": "ã—ã‚Šã‚‡ã†"},
                {"sentence": "å‹é”ã¨ã‚ãã¶ã€‚", "kanji": "å‹é”", "reading": "ã¨ã‚‚ã ã¡"},
                {"sentence": "å¤ä¼‘ã¿ã®åŠã°ã€‚", "kanji": "åŠ", "reading": "ãªã‹"},
                {"sentence": "æµ·åº•ã®ç”Ÿãç‰©ã‚’èª¿æŸ»ã™ã‚‹ã€‚", "kanji": "æµ·åº•", "reading": "ã‹ã„ã¦ã„"},
                {"sentence": "æ„›ã‚’ã ã‚Œã‹ã«ä¼ãˆã‚‹ã€‚", "kanji": "æ„›", "reading": "ã‚ã„"},
                {"sentence": "æ–°ã—ã„æ¡ˆã‚’å‡ºã™ã€‚", "kanji": "æ¡ˆ", "reading": "ã‚ã‚“"},
                {"sentence": "ä»¥å¾Œãã‚’ã¤ã‘ã‚‹ã€‚", "kanji": "ä»¥", "reading": "ã„"},
                {"sentence": "ã‚ãŸãŸã‹ã„è¡£ã€‚", "kanji": "è¡£", "reading": "ã“ã‚ã‚‚"},
                {"sentence": "ä½ã‚’ãŸã¦ã‚‹ã€‚", "kanji": "ä½", "reading": "ãã‚‰ã„"},
                {"sentence": "å°ã‚’ã¤ã‘ã‚‹ã€‚", "kanji": "å°", "reading": "ã—ã‚‹ã—"},
                {"sentence": "è‹±èªã‚’ãªã‚‰ã†ã€‚", "kanji": "è‹±", "reading": "ãˆã„"},
                {"sentence": "æ „ãˆã‚‹ç”ºã€‚", "kanji": "æ „", "reading": "ã•ã‹"},
                {"sentence": "å¡©ã‚’ãµã‚‹ã€‚", "kanji": "å¡©", "reading": "ã—ãŠ"},
                {"sentence": "å²¡ã®ä¸Šã«ã®ã¼ã‚‹ã€‚", "kanji": "å²¡", "reading": "ãŠã‹"},
                {"sentence": "å¤§ããªå„„ã®æ•°ã€‚", "kanji": "å„„", "reading": "ãŠã"},
                {"sentence": "æ•°å­—ã‚’åŠ ãˆã‚‹ã€‚", "kanji": "åŠ ", "reading": "ãã‚"},
                {"sentence": "æœç‰©ã‚’é£Ÿã¹ã‚‹ã€‚", "kanji": "æœ", "reading": "ã¯"},
                {"sentence": "è²¨ç‰©ã‚’é‹ã¶ã€‚", "kanji": "è²¨", "reading": "ã‹"},
                {"sentence": "æ–°ã—ã„èª²ãŒã¯ã˜ã¾ã‚‹ã€‚", "kanji": "èª²", "reading": "ã‹"},
                {"sentence": "èŠ½ãŒå‡ºãŸã€‚", "kanji": "èŠ½", "reading": "ã‚"},
                {"sentence": "è¨ˆç”»ã‚’æ”¹ã‚ã‚‹ã€‚", "kanji": "æ”¹", "reading": "ã‚ã‚‰ãŸ"},
                {"sentence": "å®³ã®ã‚ã‚‹è™«ã€‚", "kanji": "å®³", "reading": "ãŒã„"},
                {"sentence": "è¡—ã‚’ã‚ã‚‹ãã€‚", "kanji": "è¡—", "reading": "ã¾ã¡"},
                {"sentence": "å„ã‚¯ãƒ©ã‚¹ã§é›†ã¾ã‚‹ã€‚", "kanji": "å„", "reading": "ã‹ã"}
            ],
            "5å¹´ç”Ÿ": [
                {"sentence": "å­¦æ ¡ã®æ ¡èˆã€‚", "kanji": "æ ¡èˆ", "reading": "ã“ã†ã—ã‚ƒ"},
                {"sentence": "å®¶ã¨å­¦æ ¡ã‚’å¾€å¾©ã™ã‚‹ã€‚", "kanji": "å¾€å¾©", "reading": "ãŠã†ãµã"},
                {"sentence": "é¦¬ãŒæš´ã‚Œã‚‹ã€‚", "kanji": "æš´", "reading": "ã‚ã°"},
                {"sentence": "åœŸåœ°ã‚’è‚¥ã‚„ã™ã€‚", "kanji": "è‚¥", "reading": "ã“"},
                {"sentence": "è±Šã‹ãªå¿ƒæƒ…ã€‚", "kanji": "æƒ…", "reading": "ã˜ã‚‡ã†"},
                {"sentence": "æ˜ã‚‹ã„æ…‹åº¦ã€‚", "kanji": "æ…‹", "reading": "ãŸã„"},
                {"sentence": "å¸ä¼šã‚’ä»»ã›ã‚‹ã€‚", "kanji": "å¸ä¼š", "reading": "ã—ã‹ã„"},
                {"sentence": "ç”»åƒã‚’åŠ å·¥ã™ã‚‹ã€‚", "kanji": "åƒ", "reading": "ãã†"},
                {"sentence": "åŸå› ãŒåˆ†ã‹ã‚‹ã€‚", "kanji": "åŸå› ", "reading": "ã’ã‚“ã„ã‚“"},
                {"sentence": "ã‚³ãƒ¼ãƒ‰ã‚’æ¥ç¶šã™ã‚‹ã€‚", "kanji": "æ¥ç¶š", "reading": "ã›ã¤ãã"},
                {"sentence": "ç©ºæ°—ã®åœ§ã‚’ã¯ã‹ã‚‹ã€‚", "kanji": "åœ§", "reading": "ã‚ã¤"},
                {"sentence": "å®¶ã®å‘¨ã‚Šã‚’å›²ã‚€ã€‚", "kanji": "å›²", "reading": "ã‹ã“"},
                {"sentence": "ç”ºãŒç§»ã‚‹ã€‚", "kanji": "ç§»", "reading": "ã†ã¤"},
                {"sentence": "åŸå› ã‚’è€ƒãˆã‚‹ã€‚", "kanji": "å› ", "reading": "ã„ã‚“"},
                {"sentence": "æ°¸ã„æ™‚ã‚’ç”Ÿãã‚‹ã€‚", "kanji": "æ°¸", "reading": "ãªãŒ"},
                {"sentence": "åº—ã‚’å–¶ã‚€ã€‚", "kanji": "å–¶", "reading": "ã„ã¨ãª"},
                {"sentence": "è¡›ç”Ÿã«æ°—ã‚’ã¤ã‘ã‚‹ã€‚", "kanji": "è¡›", "reading": "ãˆã„"},
                {"sentence": "è¨ˆç®—ã‚’æ˜“ã—ãã™ã‚‹ã€‚", "kanji": "æ˜“", "reading": "ã‚„ã•"},
                {"sentence": "åˆ©ç›Šã‚’ãˆã‚‹ã€‚", "kanji": "ç›Š", "reading": "ãˆã"},
                {"sentence": "æ¶²ä½“ã‚’ã¾ãœã‚‹ã€‚", "kanji": "æ¶²", "reading": "ãˆã"},
                {"sentence": "åŠ‡ã‚’æ¼”ã˜ã‚‹ã€‚", "kanji": "æ¼”", "reading": "ãˆã‚“"},
                {"sentence": "å£°ã«å¿œãˆã‚‹ã€‚", "kanji": "å¿œ", "reading": "ã“ãŸ"},
                {"sentence": "é“ã‚’å¾€ãäººã€‚", "kanji": "å¾€", "reading": "ãŠã†"},
                {"sentence": "æ¡œãŒã•ãã€‚", "kanji": "æ¡œ", "reading": "ã•ãã‚‰"},
                {"sentence": "å¯ç¬‘ã—ã„è©±ã€‚", "kanji": "å¯", "reading": "ã‹"},
                {"sentence": "ä»®ã®åå‰ã‚’ä½¿ã†ã€‚", "kanji": "ä»®", "reading": "ã‹ã‚Š"},
                {"sentence": "ç‰©ã®ä¾¡ã‚’èª¿ã¹ã‚‹ã€‚", "kanji": "ä¾¡", "reading": "ã‹"},
                {"sentence": "æ²³ã®æµã‚Œã€‚", "kanji": "æ²³", "reading": "ã‹ã‚"},
                {"sentence": "æ™‚é–“ãŒéãã‚‹ã€‚", "kanji": "é", "reading": "ã™"},
                {"sentence": "æ°—åˆ†ãŒå¿«ã„ã€‚", "kanji": "å¿«", "reading": "ã“ã“ã‚ã‚ˆ"}
            ],
            "6å¹´ç”Ÿ": [
                {"sentence": "å§¿å‹¢ã‚’æ­£ã™ã€‚", "kanji": "å§¿å‹¢", "reading": "ã—ã›ã„"},
                {"sentence": "èƒ¸ãŒãƒ‰ã‚­ãƒ‰ã‚­ã™ã‚‹ã€‚", "kanji": "èƒ¸", "reading": "ã‚€ã­"},
                {"sentence": "å¸ƒãŒå‚ã‚Œä¸‹ãŒã‚‹ã€‚", "kanji": "å‚", "reading": "ãŸ"},
                {"sentence": "è¦–ç·šã‚’æ„Ÿã˜ã‚‹ã€‚", "kanji": "è¦–ç·š", "reading": "ã—ã›ã‚“"},
                {"sentence": "ä¹±æš´ãªç™ºè¨€ã ã€‚", "kanji": "ä¹±æš´", "reading": "ã‚‰ã‚“ã¼ã†"},
                {"sentence": "ãƒ†ã‚¹ãƒˆç¯„å›²ã‚’ç¢ºèªã™ã‚‹ã€‚", "kanji": "ç¢ºèª", "reading": "ã‹ãã«ã‚“"},
                {"sentence": "ç´”ç™½ã®ã‚¦ã‚¨ãƒ‡ã‚£ãƒ³ã‚°ãƒ‰ãƒ¬ã‚¹ã€‚", "kanji": "ç´”ç™½", "reading": "ã˜ã‚…ã‚“ã±ã"},
                {"sentence": "ãƒ¯ã‚¯ãƒãƒ³ã‚’æ³¨å°„ã™ã‚‹ã€‚", "kanji": "æ³¨å°„", "reading": "ã¡ã‚…ã†ã—ã‚ƒ"},
                {"sentence": "é›»æºã‚’åˆ‡ã‚‹ã€‚", "kanji": "æº", "reading": "ã’ã‚“"},
                {"sentence": "å¯†æ¥ãªé–¢ä¿‚ã€‚", "kanji": "å¯†æ¥", "reading": "ã¿ã£ã›ã¤"},
                {"sentence": "èƒƒã®èª¿å­ãŒã‚ˆããªã„ã€‚", "kanji": "èƒƒ", "reading": "ã„"},
                {"sentence": "ç•°ãªã‚‹è€ƒãˆã‚’ã‚‚ã¤ã€‚", "kanji": "ç•°", "reading": "ã“ã¨"},
                {"sentence": "æ–‡åŒ–ã‚’éºã™ã€‚", "kanji": "éº", "reading": "ã®ã“"},
                {"sentence": "åœ°åŸŸã®æ´»å‹•ã€‚", "kanji": "åŸŸ", "reading": "ã„ã"},
                {"sentence": "å®‡å®™ã‚’è¦‹ä¸Šã’ã‚‹ã€‚", "kanji": "å®‡", "reading": "ã†"},
                {"sentence": "æœˆãŒæ°´ã«æ˜ ã‚‹ã€‚", "kanji": "æ˜ ", "reading": "ã†ã¤"},
                {"sentence": "è©±ãŒå»¶ã³ã‚‹ã€‚", "kanji": "å»¶", "reading": "ã®"},
                {"sentence": "å·ã«æ²¿ã£ã¦æ­©ãã€‚", "kanji": "æ²¿", "reading": "ã"},
                {"sentence": "æ©ã‚’ã‚ã™ã‚Œãªã„ã€‚", "kanji": "æ©", "reading": "ãŠã‚“"},
                {"sentence": "æˆ‘ã‚’ãŠã•ãˆã‚‹ã€‚", "kanji": "æˆ‘", "reading": "ãŒ"},
                {"sentence": "ç°ã‚’ã™ã¦ã‚‹ã€‚", "kanji": "ç°", "reading": "ã¯ã„"},
                {"sentence": "æ‰‹ã‚’æ‹¡ã’ã‚‹ã€‚", "kanji": "æ‹¡", "reading": "ã²ã‚"},
                {"sentence": "å¤ã„é©ã®ã‹ã°ã‚“ã€‚", "kanji": "é©", "reading": "ã‹ã‚"},
                {"sentence": "é–£è­°ãŒã²ã‚‰ã‹ã‚Œã‚‹ã€‚", "kanji": "é–£", "reading": "ã‹ã"},
                {"sentence": "å‰²ã‚ŒãŸçš¿ã€‚", "kanji": "å‰²", "reading": "ã‚"},
                {"sentence": "æ ªã‚’è²·ã†ã€‚", "kanji": "æ ª", "reading": "ã‹ã¶"},
                {"sentence": "æ´—ãŸãç‰©ã‚’å¹²ã™ã€‚", "kanji": "å¹²", "reading": "ã»"},
                {"sentence": "æœ¬ã‚’å·»ãã€‚", "kanji": "å·»", "reading": "ã¾"},
                {"sentence": "ç—…äººã‚’çœ‹ã‚‹ã€‚", "kanji": "çœ‹", "reading": "ã¿"},
                {"sentence": "ç°¡å˜ãªå•é¡Œã€‚", "kanji": "ç°¡", "reading": "ã‹ã‚“"}
            ]
        };

        let currentGrade = "";
        let questions = [];
        let currentIndex = 0;
        let stats = JSON.parse(localStorage.getItem('kanjiStats') || '{}');

        function startQuiz(grade) {
            currentGrade = grade;
            questions = [...kanjiData[grade]].sort(() => Math.random() - 0.5);
            currentIndex = 0;
            document.getElementById('menu').classList.add('hidden');
            document.getElementById('stats').classList.add('hidden');
            document.getElementById('quiz').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentIndex];
            document.getElementById('question').textContent = `æ–‡ï¼š${q.sentence.replace(q.kanji, 'â–¡')}`;
            document.getElementById('answer').value = '';
            document.getElementById('answer').focus();
        }

        function checkAnswer() {
            const q = questions[currentIndex];
            const answer = document.getElementById('answer').value.trim();
            const correct = q.kanji;
            if (!stats[currentGrade]) {
                stats[currentGrade] = { attempts: 0, totalQuestions: 0, correctAnswers: 0, learnedKanji: [] };
            }
            stats[currentGrade].attempts++;
            stats[currentGrade].totalQuestions++;
            if (answer === correct) {
                stats[currentGrade].correctAnswers++;
                if (!stats[currentGrade].learnedKanji.includes(correct)) {
                    stats[currentGrade].learnedKanji.push(correct);
                }
                alert('æ­£è§£ï¼');
            } else {
                alert(`ä¸æ­£è§£â€¦ã€‚æ­£ã—ã„æ¼¢å­—ã¯ã€Œ${correct}ã€ã§ã™ã€‚`);
            }
            localStorage.setItem('kanjiStats', JSON.stringify(stats));
            nextQuestion();
        }

        function nextQuestion() {
            currentIndex++;
            if (currentIndex < questions.length) {
                showQuestion();
            } else {
                showFinish();
            }
        }

        function showFinish() {
            const total = questions.length;
            const correct = stats[currentGrade].correctAnswers;
            const accuracy = Math.round(correct / stats[currentGrade].totalQuestions * 100);
            alert(`ã“ã®å­¦å¹´ã®ã‚¯ã‚¤ã‚ºçµ‚äº†ï¼æ­£ç­”ç‡ï¼š${accuracy}% (${correct}/${stats[currentGrade].totalQuestions})`);
            returnToMenu();
        }

        function returnToMenu() {
            document.getElementById('menu').classList.remove('hidden');
            document.getElementById('quiz').classList.add('hidden');
            document.getElementById('result').classList.add('hidden');
            document.getElementById('stats').classList.add('hidden');
        }

        function showStats() {
            document.getElementById('menu').classList.add('hidden');
            const container = document.getElementById('stats');
            container.innerHTML = '<h2>ğŸ“Š å­¦ç¿’è¨˜éŒ²</h2>';
            for (const grade in stats) {
                const s = stats[grade];
                const totalAvailable = kanjiData[grade].length;
                const accuracy = Math.round(s.correctAnswers / s.totalQuestions * 100);
                const div = document.createElement('div');
                div.className = 'stats-grade';
                div.innerHTML = `
                    <strong>${grade}</strong><br>
                    æŒ‘æˆ¦å›æ•°: ${s.attempts}å›<br>
                    è§£ã„ãŸå•é¡Œæ•°: ${s.totalQuestions}å• / ${totalAvailable}å•ä¸­<br>
                    æ­£è§£æ•°: ${s.correctAnswers}å•<br>
                    æ­£ç­”ç‡: ${accuracy}%<br>
                `;
                if (s.learnedKanji && s.learnedKanji.length > 0) {
                    const listDiv = document.createElement('div');
                    listDiv.className = 'learned-kanji';
                    listDiv.textContent = `å­¦ã‚“ã æ¼¢å­—: ${s.learnedKanji.join('ã€')}`;
                    div.appendChild(listDiv);
                }
                container.appendChild(div);
            }
            const backBtn = document.createElement('button');
            backBtn.textContent = 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸æˆ»ã‚‹';
            backBtn.onclick = returnToMenu;
            container.appendChild(backBtn);
            container.classList.remove('hidden');
        }
    </script>
</body>
</html>
